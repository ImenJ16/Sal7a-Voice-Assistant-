<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sal7a - AI Voice Assistant</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    
    <!-- Video Background -->
    <div class="video-background">
        <video autoplay muted loop playsinline>
            <source src="/static/background.mp4.mp4" type="video/mp4">
        </video>
        <div class="video-overlay"></div>
    </div>

    <!-- Main Container -->
    <div class="app-container">
        
        <!-- Header -->
        <header class="glass-header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="app-title">ü§ñ Sal7a</h1>
                    <span class="app-subtitle">ÿµÿßŸÑÿ≠ÿ©</span>
                </div>
                <div class="header-right">
                    <p class="creator-tag">üáπüá≥ Created by Imen Jouini</p>
                    <button class="demo-btn glass" id="demoButton">
                        <span>‚ñ∂Ô∏è</span> Run Demo
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content Grid -->
        <div class="content-grid">
            
            <!-- Left Column: Chat -->
            <div class="chat-section glass">
                <div class="section-header">
                    <h2>üí¨ Conversation</h2>
                </div>
                <div class="chat-messages" id="chatContainer">
                    <!-- Welcome Message -->
                    <div class="message bot-message">
                        <div class="message-bubble glass-dark">
                            <p><strong>üëã Marhba!</strong> I'm Sal7a, your Tunisian AI assistant.</p>
                            <p style="margin-top: 8px; font-size: 13px; opacity: 0.9;">Try saying:</p>
                            <ul style="margin: 8px 0 0 20px; font-size: 13px;">
                                <li>"Who are you?"</li>
                                <li>"Add todo: finish project"</li>
                                <li>"What's the weather in Tunis?"</li>
                                <li>"Run demo"</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Widgets -->
            <div class="widgets-section">
                
                <!-- Todo Widget -->
                <div class="widget glass">
                    <div class="widget-header">
                        <h3>‚úÖ Todo List</h3>
                    </div>
                    <div class="widget-content">
                        <div class="todo-list" id="todoList">
                            <p class="empty-state">No todos yet. Say "Add todo: [task]"</p>
                        </div>
                        <div class="widget-actions">
                            <button class="action-btn glass-btn" id="clearCompleted">Clear Done</button>
                            <button class="action-btn glass-btn" id="exportTodos">üì• Export</button>
                        </div>
                    </div>
                </div>

                <!-- Weather Widget -->
                <div class="widget glass" id="weatherWidget" style="display: none;">
                    <div class="widget-header">
                        <h3>üå§Ô∏è Weather</h3>
                    </div>
                    <div class="widget-content" id="weatherContent">
                        <!-- Weather data will appear here -->
                    </div>
                </div>

                <!-- Timer Widget -->
                <div class="widget glass" id="timerWidget" style="display: none;">
                    <div class="widget-header">
                        <h3>‚è±Ô∏è Timer</h3>
                    </div>
                    <div class="widget-content">
                        <div class="timer-display glass-dark" id="timerDisplay">00:00</div>
                        <div class="widget-actions">
                            <button class="action-btn glass-btn" id="pauseTimer">Pause</button>
                            <button class="action-btn glass-btn" id="cancelTimer">Cancel</button>
                        </div>
                    </div>
                </div>

                <!-- Calculator Widget -->
                <div class="widget glass" id="calculatorWidget" style="display: none;">
                    <div class="widget-header">
                        <h3>üî¢ Calculator</h3>
                    </div>
                    <div class="widget-content">
                        <div class="calculator-result glass-dark" id="calculatorResult">
                            <!-- Results appear here -->
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Control Bar (Bottom) -->
        <div class="control-bar glass">
            <div class="control-content">
                <button class="mic-button glass-glow" id="micButton">
                    <svg class="mic-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"></path>
                        <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                        <line x1="12" y1="19" x2="12" y2="23"></line>
                        <line x1="8" y1="23" x2="16" y2="23"></line>
                    </svg>
                </button>
                <div class="status-indicator" id="status">Ready to listen</div>
            </div>
        </div>

    </div>

    <!-- Audio Player -->
    <audio id="audioPlayer" style="display: none;"></audio>

    <!-- JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>